import{T as _,h,p as v}from"./hooks.module.b6f206d6.js";import{l as d}from"./preact.module.dec703d8.js";var p=0;function s(t,e,r,a,c,i){var u,n,l={};for(n in e)n=="ref"?u=e[n]:l[n]=e[n];var f={type:t,props:l,key:r,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--p,__source:c,__self:i};if(typeof t=="function"&&(u=t.defaultProps))for(n in u)l[n]===void 0&&(l[n]=u[n]);return d.vnode&&d.vnode(f),f}const P=({className:t,timezone:e})=>{const r=_(()=>new Intl.DateTimeFormat([],{timeZone:e,hour:"numeric",minute:"numeric",second:"numeric"}).formatToParts(new Date),[e]),[a,c]=h(r);return v(()=>{const i=setInterval(()=>{c(r())},1e3);return()=>clearInterval(i)}),s("div",{className:`aspect-square relative rounded-full ${t}`,children:[s(m,{type:"hour",time:a}),s(m,{type:"minute",time:a}),s(m,{time:a,type:"second"})]})},g={hour:"bg-gray-12 h-[60%] w-full",minute:"bg-gray-12 h-[90%] w-full",second:"bg-accent h-[95%] w-full"},o=(t,e)=>{const r=t.find(a=>a.type===e);if(!r)throw new Error(`Part ${e} not found`);return Number(r.value)},y={hour:t=>o(t,"hour")*30+o(t,"minute")*.5,minute:t=>o(t,"minute")*6+o(t,"hour")*360,second:t=>o(t,"second")*6+o(t,"minute")*360+o(t,"hour")*360*60},m=({type:t,time:e})=>{const r=`rotate(${y[t](e)}deg)`;return s("div",{className:"h-[50%] w-[1px] ease-linear transiton-transform duration-1000 absolute left-1/2 origin-bottom -translate-x-1/2 flex items-end justify-center",style:{transform:r},children:s("div",{className:g[t]})})};export{P as Clock};
